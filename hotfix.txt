adding needed fixes by khalid
